<!-- Navbar -->
<nav class="navbar navbar-expand-sm navbar-light bg-light">
  <span class="navbar-brand mb-0 h1"><i class="bi bi-person-circle"></i>
    Employee Dashboard</span>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav"
    aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="bi bi-list"></i></span>
  </button>
  <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item">
        <button type="button" class="btn btn-outline-primary btn-sm mr-2" data-toggle="modal"
          data-target="#infoModal">Notification
          <i class="bi bi-info-circle"></i>
        </button>
      </li>
      <li class="nav-item">
        <button type="button" class="btn btn-outline-danger btn-sm" data-toggle="modal" data-target="#exampleModal">
          <i class="bi bi-box-arrow-right"></i>
        </button>
      </li>
    </ul>
  </div>
</nav>

<!-- Info Modal -->
<div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        Hi <span *ngFor="let item of user">{{item.name}}</span>,<br>This is an initial release of the application. Bug
        fixes, performance improvements and new features are
        rolling out soon. Thank you for being patient.
        Your feedback will help us get better - <a
          href="mailto:akshaychavanaxy@gmail.com">akshaychavanaxy@gmail.com</a>.
      </div>
      <div class="ml-auto mb-3 mr-3">
        <button type="button" class="btn btn-sm btn-success" data-dismiss="modal">Okay</button>
      </div>
    </div>
  </div>
</div>

<!-- Logout Warning Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        Are you sure you want to logout ?
      </div>
      <div class="ml-auto mb-3 mr-3">
        <button type="button" class="btn btn-sm btn-outline-primary mr-2" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-sm btn-danger" data-dismiss="modal" (click)="logout()">Logout</button>
      </div>
    </div>
  </div>
</div>

<!-- Profile card -->
<div class="card m-3">
  <div class="card-body">
    <div class="row">
      <div class="col-4 text-center">
        <h6>Employee ID : <span *ngFor="let item of user">{{item.empid}}</span></h6>

        <img src="assets/profile.jpg" alt="Profile Photo" width="150px" height="150px"><br>

        <input type="file" id="actual-btn" hidden />
        <label for="actual-btn" class="btn btn-sm btn-outline-primary" style="cursor: pointer;"><i
            class="bi bi-person-bounding-box"></i>
          Change Photo</label>
      </div>
      <div class="col-8">
        <form>

          <div class="form-group">
            <label for="name">Name</label>
            <input type="text" class="form-control" id="name" value="user">
          </div>

          <div class="row">
            <div class="col">
              <div class="form-group">
                <label for="email">Email Address</label>
                <input type="text" class="form-control" id="email" value="username@gmail.com">
              </div>
            </div>
            <div class="col">
              <div class="form-group">
                <label for="formGroupExampleInput2">Phone</label>
                <input type="text" class="form-control" id="phone" value="9887654367">
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <div class="form-group">
                <label for="designation">Designation</label>
                <input type="text" class="form-control" id="designation" value="Associate Engineer">
              </div>
            </div>
            <div class="col">
              <div class="form-group">
                <label for="doj">Date of joining</label>
                <input type="date" class="form-control" id="doj" value="2019-06-01">
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <div class="form-group">
                <label for="password">Password</label>
                <input type="password" class="form-control" id="password" value="user@123"
                  [type]="show ? 'text' : 'password'">
              </div>
            </div>
            <div class="col">
              <div class="form-check">
                <br><br>
                <input type="checkbox" class="form-check-input" id="show">
                <label class="form-check-label" for="show" style="user-select: none; cursor: pointer;"
                  (click)="showPassword()">show</label>
              </div>
            </div>
          </div>
        </form>
        <button type="button" class="btn btn-sm btn-outline-primary" data-toggle="modal"
          data-target="#updateProfile">Update</button>
      </div>
    </div>
  </div>
</div>

<!-- Update Profile confirmation modal -->
<div class="modal fade" id="updateProfile" tabindex="-1" role="dialog" aria-labelledby="updateProfileLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        I agree, the updated information is true and correct.
      </div>
      <div class="ml-auto mb-3 mr-3">
        <button type="button" class="btn btn-sm btn-outline-primary mr-2" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-sm btn-success" data-dismiss="modal">Confirm</button>
      </div>
    </div>
  </div>
</div>

<!-- Record Card Table -->
<div class="card m-3">
  <div class="card-body">
    <div class="mb-3">
      <h3>
        Records
        <button class="btn btn-sm btn-outline-success" type="button" data-toggle="modal" data-target="#addrecord"
          style="float: right;"><i class="bi bi-plus"></i> Add</button>
      </h3>
    </div>

    <!-- Download dropdown -->
    <div class="dropdown float-right">
      <button type="button" class="btn btn-sm btn-outline-primary" (click)="download_csv()"><i class="bi bi-arrow-down-short"></i> Download .csv</button>
    </div>

    <!-- Select Month -->
    <div class="input-group input-group-sm mb-3" style="width: 300px;">
      <div class="input-group-prepend">
        <span class="input-group-text">Select Month</span>
      </div>
      <input type="month" class="custom-select">
      <button type="button" class="btn btn-sm btn-outline-primary"><i class="bi bi-search"></i></button>
    </div>

    <!-- Record's Table -->
    <table id="records" class="table table-bordered">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Date</th>
          <th scope="col">ClientID</th>
          <th scope="col">TaskID</th>
          <th scope="col">Duration</th>
          <th scope="col">Description</th>
          <th scope="col" style="width: 50px;">Functions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of records; let i = index">
          <td>{{i + 1}}</td>
          <td>{{item.date}}</td>
          <td>{{item.clientid}}</td>
          <td>{{item.taskid}}</td>
          <td>{{item.duration}}</td>
          <td>{{item.description}}</td>
          <td>
            <button type="button" class="btn btn-outline-primary btn-sm
                mr-2" data-toggle="modal" data-target="#updaterecord"><i class="bi bi-pencil-square"></i></button>
            <button type="button" class="btn btn-outline-danger btn-sm" (click)=" delete_Record(item)"><i
                class="bi bi-trash"></i></button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Pagination -->
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-center">
        <li class="page-item">
          <a class="page-link" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </a>
        </li>
        <li class="page-item"><a class="page-link">1</a></li>
        <li class="page-item"><a class="page-link">2</a></li>
        <li class="page-item"><a class="page-link">3</a></li>
        <li class="page-item">
          <a class="page-link" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>

<!-- Add record Modal -->
<div class="modal fade" id="addrecord" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Add Record</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <input [(ngModel)]="addRecord.empid" type="text" class="form-control" id="empid" [value]="empidItem">

        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="date">Date</label>
            <input [(ngModel)]="addRecord.date" type="date" class="form-control"
              onfocus="this.max=new Date().toISOString().split('T')[0]" id="date" [value]="todayDate">
          </div>
          <div class="form-group col-md-6">
            <label for="duration">Duration</label>
            <div class="dropdown">
              <button class="btn btn-light dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false" style="width: 100%; text-align: left;">
                Select hours ...
              </button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <option class="dropdown-item">0</option>
                <option class="dropdown-item">1</option>
                <option class="dropdown-item">2</option>
                <option class="dropdown-item">3</option>
              </div>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="client">Client</label>
            <div class="dropdown">
              <button class="btn btn-light dropdown-toggle" type="button" id="client" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false" style="width: 100%; text-align: left;">
                Select Client ...
              </button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <option class="dropdown-item" *ngFor="let item of clients">{{item.name}}</option>
              </div>
            </div>
          </div>

          <div class="form-group col-md-6">
            <label for="task">Task</label>
            <div class="dropdown">
              <button class="btn btn-light dropdown-toggle" type="button" id="task" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false" style="width: 100%; text-align: left;">
                Select Task ...
              </button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <option class="dropdown-item" *ngFor="let item of tasks">{{item.description}}</option>
              </div>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="description">Description</label>
          <textarea [(ngModel)]="addRecord.description" class="form-control" id="description" rows="2"
            placeholder="Description"></textarea>
        </div>

        <div class="text-center">
          <button type="button" class="btn btn-outline-success" data-dismiss="modal" (click)="add_Record()"><i
              class="bi bi-plus"></i>
            Add</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Update record Modal -->
<div class="modal fade" id="updaterecord" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Update Record</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="date">Date</label>
            <input type="date" class="form-control" onfocus="this.max=new Date().toISOString().split('T')[0]" id="date">
          </div>
          <div class="form-group col-md-6">
            <label for="duration">Duration</label>
            <div class="dropdown">
              <button class="btn btn-light dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false" style="width: 100%; text-align: left;">
                Select hours ...
              </button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item">1</a>
                <a class="dropdown-item">2</a>
                <a class="dropdown-item">3</a>
              </div>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="project">Project</label>
            <div class="dropdown">
              <button class="btn btn-light dropdown-toggle" type="button" id="project" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false" style="width: 100%; text-align: left;">
                Select Project ...
              </button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item">Project 1</a>
                <a class="dropdown-item">Project 2</a>
                <a class="dropdown-item">Project 3</a>
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <label for="task">Task</label>
            <div class="dropdown">
              <button class="btn btn-light dropdown-toggle" type="button" id="task" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false" style="width: 100%; text-align: left;">
                Select Task ...
              </button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item">Task 1</a>
                <a class="dropdown-item">Task 1</a>
                <a class="dropdown-item">Task 1</a>
              </div>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="description">Description</label>
          <textarea class="form-control" id="description" rows="2" placeholder="Description"></textarea>
        </div>

        <div class="text-center">
          <button type="button" class="btn btn-outline-success" data-dismiss="modal"><i
              class="bi bi-clipboard-check"></i> Update</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Emergency Contacts Card -->
<div class="card m-3">
  <div class="card-body">
    <div class="mb-4">
      <span style="font-weight: bold; font-size: 25px">Emergency Contacts</span><br>
      <span>In case of an emergency, please feel free to call our emergency numbers. Our team at L.E. Transformation
        is always keen to be there for you.</span>
    </div>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Phone</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of contacts">
          <td>{{item.name}}</td>
          <td><a href="tel:{{item.phone}}">{{item.phone}}</a></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<app-footer></app-footer>