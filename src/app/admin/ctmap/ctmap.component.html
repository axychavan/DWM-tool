<!-- Ctmap Card -->
<h3 class="mb-3">
    Client-Task Mapping
</h3>

<!-- Associate dropdowns -->
<div class="row">
    <div class="col">
        <div class="form-group" [class.has-error]="cl_nameControl.invalid && cl_nameControl.touched">
            <label for="cl_name">Client</label>
            <div class="dropdown">
                <select [(ngModel)]="associate_data.cl_name" name="cl_name" id="cl_name"
                    class="btn btn-light dropdown-toggle" style="text-align: left;" #cl_nameControl="ngModel" required>
                    <option class="dropdown-item">Select a Client ...</option>
                    <option class="dropdown-item" *ngFor="let item of clients">{{item.cl_name}}</option>
                </select>
            </div>
            <small class="text-danger" *ngIf="cl_nameControl.invalid && cl_nameControl.touched">
                Please select a client.
            </small>
        </div>
    </div>

    <div class="col">
        <div class="form-group" [class.has-error]="taskControl.invalid && taskControl.touched">
            <label for="description">Task</label>
            <div class="dropdown">
                <select [(ngModel)]="associate_data.task" name="description" id="description"
                    class="btn btn-light dropdown-toggle" style="text-align: left;" #taskControl="ngModel" required>
                    <option class="dropdown-item">Select a Task ...</option>
                    <option class="dropdown-item" *ngFor="let item of tasks">{{item.task}}</option>
                </select>
            </div>
            <small class="text-danger" *ngIf="taskControl.invalid && taskControl.touched">
                Please select a task.
            </small>
        </div>
    </div>

    <div class="col mt-3">
        <button type="button" class="btn btn-sm btn-outline-success" data-dismiss="modal" (click)="associate_ctmap()"
            [disabled]="!cl_nameControl.valid || !taskControl.valid">
            <i class="bi bi-link-45deg"></i> Associate
        </button>
    </div>
</div>

<!-- Ctmap Table -->
<div style="height: auto; overflow: auto;">
    <table class="table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Client</th>
                <th scope="col">Task</th>
                <th scope="col">Delete</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of ctmap ; let i=index">
                <td>{{i + 1}}</td>
                <td>{{item.cl_name}}</td>
                <td>{{item.task}}</td>
                <td>
                    <button type="button" class="btn
              btn-outline-danger btn-sm" (click)=" delete_Ctmap(item)"><i class="bi bi-trash"></i></button>
                </td>
            </tr>
        </tbody>
    </table>
</div>